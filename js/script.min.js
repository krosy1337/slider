const ELEMS_IN_ROW=10,ROWS=10,SQUARE_WIDTH=60,images=document.querySelectorAll(".source-image"),slider=document.querySelector(".slider");images.forEach((e,t)=>{const s=document.createElement("div"),d=[];s.classList.add("slide");for(let e=0;e<100;e++){const e=document.createElement("canvas");e.width=60,e.height=60,e.classList.add("myCanvas"),e.dataset.index=t,s.append(e),d.push(e)}slider.append(s),d.forEach((t,s)=>{const d=t.getContext("2d");let a=new Image;a.onload=function(){let e=60*(s-10*parseInt(s/10)),l=60*Math.floor(s/10),o=t.width/2-30,i=t.height/2-30;d.drawImage(a,e,l,60,60,o,i,60,60)},a.src=e.src,e.remove(),t.addEventListener("click",()=>{gsap.to(`[data-index="${t.dataset.index}"]`,{duration:.5,scale:0,y:100,rotateX:60,stagger:{each:.03,from:"edges",from:s,grid:"auto"}}),slider.style.overflow="visible",setTimeout(()=>{t.closest(".slide").style.zIndex=+t.closest(".slide").style.zIndex-1,0===t.dataset.index&&(slider.style.zIndex=+slider.style.zIndex-1),gsap.to(`[data-index="${t.dataset.index}"]`,{scale:1,y:0,rotateX:0,duration:.2}),slider.style.overflow="hidden"},900)})})});